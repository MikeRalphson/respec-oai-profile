{"version":3,"sources":["../../../src/w3c/templates/headers.js"],"names":["getSpecTitleElem","conf","specTitleElem","document","querySelector","createElement","parentElement","remove","title","textContent","trim","id","classList","add","getSpecSubTitleElem","specSubTitleElem","subtitle","html","hyperHTML","logos","map","prependW3C","textStatus","dashDate","publishHumanDate","isNoTrack","l10n","this_version","thisVersion","latest_published_version","latestVersion","edDraftURI","latest_editors_draft","testSuiteURI","implementationReportURI","bugTrackerHTML","bug_tracker","isED","prevED","showPreviousVersion","prevVersion","prevRecURI","isRec","multipleEditors","editors","editor","Array","isArray","formerEditors","length","multipleFormerEditors","former_editors","former_editor","authors","multipleAuthors","author","otherLinks","errata","shortName","alternateFormats","multipleAlternates","alternatesHTML","isUnofficial","additionalCopyrightHolders","overrideCopyright","copyrightStart","publishYear","isCCBY","isW3CSoftAndDocLicense"],"mappings":"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","file":"headers.js","sourcesContent":["import \"deps/hyperhtml\";\nimport showLogo from \"./show-logo\";\nimport showPeople from \"./show-people\";\nimport showLink from \"./show-link\";\nimport { pub } from \"core/pubsubhub\";\n\nfunction getSpecTitleElem (conf) {\n  const specTitleElem =\n    document.querySelector(\"h1#title\") || document.createElement(\"h1\");\n  if (specTitleElem.parentElement) {\n    specTitleElem.remove();\n    conf.title = specTitleElem.textContent.trim();\n  } else {\n    specTitleElem.textContent = conf.title;\n    specTitleElem.id = \"title\";\n  }\n  specTitleElem.classList.add(\"title\", \"p-name\");\n  if (document.querySelector(\"title\") === null) {\n    document.title = conf.title;\n  } else if (document.title !== conf.title) {\n    pub(\"warn\", \"The document's title and the `<title>` element differ.\");\n  }\n  return specTitleElem;\n}\n\nfunction getSpecSubTitleElem (conf) {\n  let specSubTitleElem = document.querySelector(\"h2#subtitle\");\n  \n  if (specSubTitleElem && specSubTitleElem.parentElement) {\n    specSubTitleElem.remove();\n    conf.subtitle = specSubTitleElem.textContent.trim();\n  } else if (conf.subtitle) {\n    specSubTitleElem = document.createElement (\"h2\");\n    specSubTitleElem.textContent = conf.subtitle;\n    specSubTitleElem.id = \"subtitle\";\n  }\n  if (specSubTitleElem) {\n    specSubTitleElem.classList.add (\"subtitle\");\n  }\n  return specSubTitleElem;\n}\n\nexport default conf => {\n  const html = hyperHTML;\n  \n  return html`<div class='head'>\n  ${conf.logos.map(showLogo)}\n  ${getSpecTitleElem(conf)}\n  ${getSpecSubTitleElem(conf)}\n  <h2>${conf.prependW3C ? \"W3C \" : \"\"}${conf.textStatus} <time class='dt-published' datetime='${conf.dashDate}'>${conf.publishHumanDate}</time></h2>\n  <dl>\n    ${!conf.isNoTrack ? html`\n      <dt>${conf.l10n.this_version}</dt>\n      <dd><a class='u-url' href='${conf.thisVersion}'>${conf.thisVersion}</a></dd>\n      <dt>${conf.l10n.latest_published_version}</dt>\n      <dd>${conf.latestVersion ? html`<a href='${conf.latestVersion}'>${conf.latestVersion}</a>` : \"none\"}</dd>\n    ` : \"\"}\n    ${conf.edDraftURI ? html`\n      <dt>${conf.l10n.latest_editors_draft}</dt>\n      <dd><a href='${conf.edDraftURI}'>${conf.edDraftURI}</a></dd>\n    ` : \"\"}\n    ${conf.testSuiteURI ? html`\n      <dt>Test suite:</dt>\n      <dd><a href='${conf.testSuiteURI}'>${conf.testSuiteURI}</a></dd>\n    ` : \"\"}\n    ${conf.implementationReportURI ? html`\n      <dt>Implementation report:</dt>\n      <dd><a href='${conf.implementationReportURI}'>${conf.implementationReportURI}</a></dd>\n    ` : \"\"}\n    ${conf.bugTrackerHTML ? html`\n      <dt>${conf.l10n.bug_tracker}</dt>\n      <dd>${[conf.bugTrackerHTML]}</dd>\n    ` : \"\"}\n    ${conf.isED ? html`\n      ${conf.prevED ? html`\n        <dt>Previous editor's draft:</dt>\n        <dd><a href='${conf.prevED}'>${conf.prevED}</a></dd>\n      ` : \"\"}\n    ` : \"\"}\n    ${conf.showPreviousVersion ? html`\n      <dt>Previous version:</dt>\n      <dd><a href='${conf.prevVersion}'>${conf.prevVersion}</a></dd>\n    ` : \"\"}\n    ${conf.prevRecURI ? html`\n      ${conf.isRec ? html`\n          <dt>Previous Recommendation:</dt>\n          <dd><a href='${conf.prevRecURI}'>${conf.prevRecURI}</a></dd>\n      ` : html`\n          <dt>Latest Recommendation:</dt>\n          <dd><a href='${conf.prevRecURI}'>${conf.prevRecURI}</a></dd>\n      `}\n    ` : \"\"}\n    <dt>${conf.multipleEditors ? conf.l10n.editors : conf.l10n.editor}</dt>\n    ${showPeople(conf, \"Editor\", conf.editors)}\n    ${Array.isArray(conf.formerEditors) && conf.formerEditors.length > 0 ? html`\n      <dt>${conf.multipleFormerEditors ? conf.l10n.former_editors : conf.l10n.former_editor}</dt>\n      ${showPeople(conf, \"Editor\", conf.formerEditors)}\n    ` : \"\"}\n    ${conf.authors ? html`\n      <dt>${conf.multipleAuthors ? conf.l10n.authors : conf.l10n.author}</dt>\n      ${showPeople(conf, \"Author\", conf.authors)}\n    ` : \"\"}\n    ${conf.otherLinks ? conf.otherLinks.map(showLink) : \"\"}\n  </dl>\n  ${conf.errata ? html`\n    <p>\n      Please check the <a href=\"${conf.errata}\"><strong>errata</strong></a> for any errors or issues\n      reported since publication.\n    </p>\n  ` : \"\"}\n  ${conf.isRec ? html`\n    <p>\n      See also <a href=\"${`http://www.w3.org/2003/03/Translations/byTechnology?technology=${conf.shortName}`}\">\n      <strong>translations</strong></a>.\n    </p>\n  ` : \"\"}\n  ${conf.alternateFormats ? html`\n    <p>\n      ${conf.multipleAlternates ?\n        \"This document is also available in these non-normative formats:\" :\n        \"This document is also available in this non-normative format:\"}\n      ${[conf.alternatesHTML]}\n    </p>\n  ` : \"\"}\n  ${conf.isUnofficial ? html`\n    ${conf.additionalCopyrightHolders ? html`\n      <p class='copyright'>${[conf.additionalCopyrightHolders]}</p>\n    ` : html`\n      ${conf.overrideCopyright ? [conf.overrideCopyright] : html`\n        <p class='copyright'>\n          This document is licensed under a\n          <a class='subfoot' href='https://creativecommons.org/licenses/by/3.0/' rel='license'>Creative Commons\n          Attribution 3.0 License</a>.\n        </p>\n      `}\n    `}\n  ` : html`\n    ${conf.overrideCopyright ? [conf.overrideCopyright] : html`\n      <p class='copyright'>\n        <a href='https://www.w3.org/Consortium/Legal/ipr-notice#Copyright'>Copyright</a> &copy;\n        ${conf.copyrightStart ? `${conf.copyrightStart}-` : \"\"}${conf.publishYear}\n        ${conf.additionalCopyrightHolders ? html` ${[conf.additionalCopyrightHolders]} &amp;` : \"\"}\n        <a href='https://www.w3.org/'><abbr title='World Wide Web Consortium'>W3C</abbr></a><sup>&reg;</sup>\n        (<a href='https://www.csail.mit.edu/'><abbr title='Massachusetts Institute of Technology'>MIT</abbr></a>,\n        <a href='https://www.ercim.eu/'><abbr title='European Research Consortium for Informatics and Mathematics'>ERCIM</abbr></a>,\n        <a href='https://www.keio.ac.jp/'>Keio</a>, <a href=\"http://ev.buaa.edu.cn/\">Beihang</a>).\n        ${conf.isCCBY ? html`\n          Some Rights Reserved: this document is dual-licensed,\n          <a rel=\"license\" href=\"https://creativecommons.org/licenses/by/3.0/\">CC-BY</a> and\n          <a rel=\"license\" href=\"https://www.w3.org/Consortium/Legal/copyright-documents\">W3C Document License</a>.\n        ` : \"\"}\n        W3C <a href='https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer'>liability</a>,\n        <a href='https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks'>trademark</a> and\n        ${conf.isCCBY ? html`\n          <a rel=\"license\" href='https://www.w3.org/Consortium/Legal/2013/copyright-documents-dual.html'>document use</a>\n        ` : html`\n          ${conf.isW3CSoftAndDocLicense ? html`\n            <a rel=\"license\" href='https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document'>permissive document license</a>\n          ` : html`\n            <a rel=\"license\" href='https://www.w3.org/Consortium/Legal/copyright-documents'>document use</a>\n          `}\n        `}\n        rules apply.\n      </p>\n    `}\n  `}\n  <hr title=\"Separator for header\">\n</div>`;\n}\n"]}